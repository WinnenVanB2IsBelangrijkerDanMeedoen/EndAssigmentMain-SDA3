from serial.tools import list_ports
from abc import ABC, abstractmethod
from ObjectDetection import *
import tkinter as tk
from userColorSelector import select_color

def main():
    #     Dbt.moveHome()
    roboticState = 'userColorChoice'
    colorList = [("Blue"), ("Red"), ("Yellow"), ("Green")]
    centerList = []
    centerList.append(("Blue(B)", (30,60)))
    centerList.append(("Red(R)", (70,140)))
    centerList.append(("Yellow(G)", (200,400)))

    while True:
        roboticState = 'pickUpPosition'
        case 'userColorChoice':
            userChoice = select_color(colorList)
            print(userChoice)
            match userChoice:
                case 'Blue':
                    pass
                
                case 'Green':
                    pass
                
                case 'Red':
                    pass
                
                case 'Yellow':
                    pass
                
                case 'pickUp':
                    ctrlBot.pickToggle()
                    ctrlBot.moveArmXYZ(105,145,60, wait = True)
                    ctrlBot.SetConveyor(enabled=False)
                    roboticState = 'pickUp'
        #print(ctrlBot.getPosition())
        if keyboard.is_pressed("esc"):
            #ctrlBot.moveArmXYZ(z=60, wait=True)
            ctrlBot.SetConveyor(enabled=True)